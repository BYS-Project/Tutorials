<!--
    Premise:
    the use of jQuery has a descendent trend, but it is still used in the vast majority of the projects/websites
-->

<!DOCTYPE html>
<html>
    <head>
        <!-- How to import JQuery through Google CDN. An althernative would have been downloading the library from the official site ("https://jquery.com/") -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    </head>
    <body>
        <h1 id="firstTitle">First Title</h1>
        <p id="firstParagraph" class="exampleClass">This is the first paragraph of the page</p>

        <h1 id="secondTitle">Second Title</h1>
        <p id="secondParagraph">This is the second paragraph of the page</p>

        <h1 id="thirdTitle">Third Title</h1>
        <p id="thirdParagraph">This is the third paragraph of the page</p>

        <button>Click me!</button>

        <input type="text"> 

        <ul>
            <li>First</li>
            <li>Second</li>
            <li>Third</li>
        </ul>

        <!-- Now, we have to load the JQuery code after the document is loaded from the browser! -->
        <script>
            $(document).ready(function () {
                // Here we can write our JQuery code

                // SELECTORS Syntax
                $('p').hide()                   // Hide the element(s) when the page loads
                $('p:first').hide()             // Taking the first child of the object
                $('#firstParagraph').hide()     // Taking a single element
                $('.exampleClass').hide()       // Taking a class
                $('[href]').hide()              // Taking everything with an "href" attribute - We can insert a non-HTML attribute too

                // EVENTS
                $('button').click(function (){
                    // When we click on every 'button' element this fragment of the code is called
                    alert("Hello There!")
                })
                $('#secondParagraph').hover(function (){
                    // When the mouse entered the paragraph
                    alert("Welcome in the second paragraph!")
                }, function(){
                    // When the mouse left the paragraph
                    alert("Adios!")
                })
                $('input').focus(function() {
                    $(this).css('background-color', 'red')
                })
                // Another way of event handling
                $('input').on({
                    hover: function(){
                        // Hover-eneter function here
                    }, function(){
                        // Hover-left function here
                    },
                    focus: function(){
                        // Focus function here

                        // Basic TRANSITIONS
                        $(this).fadeIn()            // -> Shows the input with an effect
                        $(this).fadeOut()           // -> Hides the input with an effect
                        $(this).fadeToggle()        // -> Instead of fadeIn() and fadeOut() use this

                        $(this).slideDown()         // -> Shows the input with an effect
                        $(this).slideUp()           // -> Hides the input with an effect
                        $(this).slideToggle()       // -> Similar to fadeToggle()
                    }
                })

                // CALLBACKS
                // What is a callback? It is a function executed when an operation is completed
                $('p').hide('slow'), function (){
                    alert('This is a callback. This code fragment is executed when the "hide" process is finished.')
                }
                alert('This instruction is executed before the end of the "hide" process of p')

                // CHAINING
                $('button').click(function (){
                    $('p').slideUp(200).slideDown(100)
                })

                // DOM
                $('button').click(function (){
                    alert('text() of the first paragraph: ', $('#firstParagraph').text())   // It prints out the text content (human readable) of the element
                    $('#firstParagraph').text('Ayo, new text in here!')
                    alert('html() of the first paragraph: ', $('#firstParagraph').html())   // It prints out the html content of the element
                    $('#firstParagraph').html('<b>Changing <i> html </i></b>')
                })
                $('input').click(function (){
                    alert('val() of an input: ', $('#firstParagraph').val())    // It works with input forms
                    $('#firstParagraph').val('New Input')
                    alert('attr(attributeName) of the first paragraph: ', $('#firstParagraph').attr('data-customAttribute'))    // It works with input forms
                })
                // element.append() -> insert text at the end of the element, element.prepend()  -> insert text at the beginning of the element, element.after()  -> insert text at the end of the father's element, element.before() -> insert text at the beginning of the father's element     
                $('ul').empty()     // Deletes all <li> elements
                $('ul').remove()    // Removes all the element

                // CSS
                $('p').addClass('className')        // Adds a class to the element
                $('p').removeClass('className')     // Removes a class to the element
                $('p').toggleClass('className')     // ""

                $('p').css('propertyName', 'value', 'propertyName2', 'value2')

                // TRAVERSING: Move through the DOM
                $('ul').parent()                    // Gets the first parent of the 'ul' element
                $('ul').parents()                   // Gets all the parents of the 'ul' element
                $('ul').parentsUntil('body')        // Gets all the parents of the 'ul' element until it reachs the 'body' element (excluded)

                $('ul').children()                  // Gets the first children of the 'ul' element

                $('ul').find('li')                  // Gets all the 'li' elements where 'ul' is the ancestor

                $('ul').siblings()                  // Gets all the siblings of 'ul'

                $('ul').next()                      // Gets the next sibling of 'ul'
                $('ul').nextAll()                   // Gets all the siblings after 'ul'
                $('ul').nextUntil('p')              // ""

                $('ul').prev()                      // The opposite of next

                // AJAX
                $('p').load('hello.txt')            // Loads the content of 'hello.txt' in every 'p' element
                // Read "test.json" file, once it is done, with a callback function and log it
                $.getJSON('test.json', function(data){
                    console.log(data)
                })
                // We can perform get or post requests with
                $.get()
                $.post()
                // Another method is - Reccomended
                $.ajax({
                    url : "page.php",                           // Where to make the request
                    dataType : "json",                          // Response data type
                    type : "post",                              // GET/POST
                    data : $(this).serialize,                   // Data to send to the page, for instance, a form
                    success: function(response){                // On success
                        console.log("Everything is fine!")
                    },
                    error: function(jqXHR, textStatus, error){  // On failure
                        console.log("error!", textStatus, error)
                    }
                })
            })
        </script>
    </body>
</html>